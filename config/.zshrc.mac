function nerdctl() {
    local __nerdctl='/Applications/Rancher Desktop.app/Contents/Resources/resources/darwin/bin/nerdctl'

    # XXX: should I put it in ~/.zsh/functions of $fpath?
    if ! typeset -f _nerdctl > /dev/null; then
        local comp=$("${__nerdctl}" completion zsh)
        eval "${comp}"
        compdef _nerdctl nerdctl
    fi

    "${__nerdctl}" "$@"
}
# vi: ft=zsh
